{"version":3,"sources":["components/Display.js","components/Calculator.js","index.js"],"names":["Display","props","className","id","currentValue","expression","Calculator","clearState","lastAction","buttonDefinitions","symbol","state","handleClick","bind","event","target","this","clear","calculate","handleOperator","value","handleNumber","setState","result","Function","operator","newState","replace","number","includes","buttonComponents","definitions","makeButtonJSX","onClick","reduce","components","definition","Array","isArray","forEach","index","push","makeButtons","React","Component","App","href","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.0b3e90ce.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Display = props => {\r\n    return (\r\n        <div className=\"display\">\r\n            <div id=\"currentValue\">{props.currentValue}</div>\r\n            <div id=\"expression\">{props.expression}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Display;","import React from 'react';\r\nimport Display from './Display'\r\n\r\nclass Calculator extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.clearState = {\r\n            expression: '',\r\n            currentValue: '0',\r\n            lastAction: null\r\n        }\r\n\r\n        this.buttonDefinitions = [\r\n            [\r\n                'zero',\r\n                'one',\r\n                'two',\r\n                'three',\r\n                'four',\r\n                'five',\r\n                'six',\r\n                'seven',\r\n                'eight',\r\n                'nine'\r\n            ],\r\n            { symbol: '=', id: 'equals' },\r\n            { symbol: '+', id: 'add' },\r\n            { symbol: '-', id: 'subtract' },\r\n            { symbol: '*', id: 'multiply' },\r\n            { symbol: '/', id: 'divide' },\r\n            { symbol: '.', id: 'decimal' },\r\n            { symbol: 'C', id: 'clear' },\r\n        ]\r\n\r\n        this.state = this.clearState;\r\n\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n\r\n    handleClick(event) {\r\n        switch (event.target.id) {\r\n            case 'clear':\r\n                this.clear();\r\n                break;\r\n            case 'equals':\r\n                this.calculate();\r\n                break;\r\n            case 'add':\r\n            case 'subtract':\r\n            case 'multiply':\r\n            case 'divide':\r\n                this.handleOperator(event.target.value);\r\n                break;\r\n            default:\r\n                this.handleNumber(event.target.value);\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.setState(this.clearState);\r\n    }\r\n\r\n    calculate() {\r\n        this.setState(state => {\r\n            if (state.lastAction !== 'equals' && state.lastAction !== null) {\r\n                let result;\r\n                try {\r\n                    result = new Function(`'use strict'; return ${state.expression};`)();\r\n                } catch {\r\n                    return this.clearState;\r\n                }\r\n                return {\r\n                    currentValue: result,\r\n                    expression: `${state.expression}=${result}`,\r\n                    lastAction: 'equals'\r\n                };\r\n            } else {\r\n                return state;\r\n            }\r\n        })\r\n    }\r\n\r\n    handleOperator(operator) {\r\n        this.setState(state => {\r\n            let newState = {};\r\n            newState.currentValue = operator;\r\n\r\n            if (state.lastAction === 'operator') {\r\n                newState.expression = state.expression.replace(/.$/, operator);\r\n            } else {\r\n                if (state.lastAction === 'equals') {\r\n                    newState.expression = state.currentValue + operator;\r\n                } else {\r\n                    newState.expression = state.expression + operator;\r\n                }\r\n            }\r\n\r\n            newState.lastAction = 'operator';\r\n            return newState;\r\n        })\r\n    }\r\n\r\n    handleNumber(number) {\r\n        this.setState(state => {\r\n            let newState = {};\r\n\r\n            if (state.currentValue === '0' || state.lastAction === 'equals') {\r\n                number = number === '.' ? '0.' : number;\r\n                newState = {\r\n                    currentValue: number,\r\n                    expression: number\r\n                };\r\n            } else {\r\n                number = number === '.' && state.currentValue.includes('.') ? '' : number;\r\n                newState = {\r\n                    currentValue: state.currentValue.replace(/^[-/+*]/, '') + number,\r\n                    expression: state.expression + number\r\n                };\r\n            }\r\n\r\n            newState.lastAction = 'number';\r\n            return newState;\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const buttonComponents = makeButtons(this.buttonDefinitions, this.handleClick);\r\n\r\n        return (\r\n            <div className=\"calculator\">\r\n                <Display currentValue={this.state.currentValue} expression={this.state.expression}></Display>\r\n                {buttonComponents}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction makeButtons(definitions, handleClick) {\r\n    function makeButtonJSX(id, symbol) {\r\n        return <button className=\"button\" key={id} id={id} value={symbol} onClick={handleClick}>{symbol}</button>;\r\n    }\r\n    const buttons = definitions.reduce((components, definition) => {\r\n        if (Array.isArray(definition)) {\r\n            definition.forEach((number, index) => {\r\n                components.push(makeButtonJSX(number, index));\r\n            });\r\n        } else {\r\n            components.push(makeButtonJSX(definition.id, definition.symbol));\r\n        }\r\n\r\n        return components;\r\n    }, []);\r\n\r\n    return buttons;\r\n}\r\n\r\nexport default Calculator;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Calculator from './components/Calculator';\r\nimport './scss/index.scss';\r\n\r\nif (module.hot) module.hot.accept();\r\n\r\nconst App = () => {\r\n    return (\r\n        <div>\r\n            <Calculator />\r\n            <footer>\r\n                <p>Design and Developed by <a href=\"https://www.eduard-mekler.com\">Eduard Mekler</a></p>\r\n            </footer>\r\n        </div>\r\n    )\r\n}\r\n\r\nReactDOM.render(\r\n    <App />,\r\n    document.querySelector('#root')\r\n)"],"sourceRoot":""}