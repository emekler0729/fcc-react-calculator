(this["webpackJsonpreact-calculator"]=this["webpackJsonpreact-calculator"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(4),c=n.n(s),i=n(5),l=n(6),u=n(2),o=n(8),d=n(7),h=n(0),p=function(e){return Object(h.jsxs)("div",{className:"display",children:[Object(h.jsx)("div",{id:"currentValue",children:e.currentValue}),Object(h.jsx)("div",{id:"expression",children:e.expression})]})};var b=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).clearState={currentValue:"0",expression:"",lastAction:null},r.errorState={currentValue:"ERROR",expression:"",lastAction:null},r.buttonDefinitions=[["zero","one","two","three","four","five","six","seven","eight","nine"],{symbol:"=",id:"equals"},{symbol:"+",id:"add"},{symbol:"-",id:"subtract"},{symbol:"*",id:"multiply"},{symbol:"/",id:"divide"},{symbol:".",id:"decimal"},{symbol:"C",id:"clear"}],r.state=r.clearState,r.handleClick=r.handleClick.bind(Object(u.a)(r)),r.handleKeyPress=r.handleKeyPress.bind(Object(u.a)(r)),r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){document.addEventListener("keydown",this.handleKeyPress)}},{key:"handleClick",value:function(e){switch(e.target.value){case"C":this.clear();break;case"=":this.calculate();break;case"+":case"-":case"*":case"/":this.handleOperator(e.target.value);break;default:this.handleNumber(e.target.value)}}},{key:"handleKeyPress",value:function(e){var t=e.key.replace("Enter","=").replace("Escape","C").replace(/^F\d{1,2}|[^-1234567890./*+=C]+|^C.+/,"");t&&this.handleClick({target:{value:t}})}},{key:"clear",value:function(){this.setState(this.clearState)}},{key:"error",value:function(){var e=this;this.setState(this.errorState),setTimeout((function(){e.clear()}),1e3)}},{key:"calculate",value:function(){var e=this;this.setState((function(t){if("equals"!==t.lastAction&&null!==t.lastAction){var n;try{n=new Function("'use strict'; return ".concat(t.expression.replace("--","- -"),";"))()}catch(r){e.error()}return{currentValue:n,expression:"".concat(t.expression,"=").concat(n),lastAction:"equals"}}return t}))}},{key:"handleOperator",value:function(e){function t(t,n){return{currentValue:e,expression:t,lastAction:n}}this.setState((function(n){switch(n.lastAction){case null:if("-"===e)return t(e,"negative");break;case"negative":if("-"!==e)return n.expression.startsWith("-")?t("0".concat(e),"operator"):t("".concat(n.expression.replace(/[-/*+]-*$/,e)),"operator");break;case"operator":return"-"===e?t("".concat(n.expression+e),"negative"):t("".concat(n.expression.replace(/[-/*+]-*$/,e)),"operator");default:return t("".concat(n.expression+e),"operator")}}))}},{key:"handleNumber",value:function(e){this.setState((function(t){var n={};return"0"===t.currentValue||"equals"===t.lastAction?n={currentValue:e="."===e?"0.":e,expression:e}:(e="."===e&&t.currentValue.includes(".")?"":e,n={currentValue:t.currentValue.replace(/^[-/+*]/,"")+e,expression:t.expression+e}),n.lastAction="number",n}))}},{key:"render",value:function(){var e=function(e,t,n){function r(e,n){return Object(h.jsx)("button",{className:"button",id:e,value:n,onClick:t,children:n},e)}return e.reduce((function(e,t){return Array.isArray(t)?t.forEach((function(t,n){e.push(r(t,n))})):e.push(r(t.id,t.symbol)),e}),[])}(this.buttonDefinitions,this.handleClick,this.handleKeyPress);return Object(h.jsxs)("div",{className:"calculator",children:[Object(h.jsx)(p,{currentValue:this.state.currentValue,expression:this.state.expression}),e]})}}]),n}(a.a.Component);n(14);var v=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(b,{}),Object(h.jsx)("footer",{children:Object(h.jsxs)("p",{children:["Designed and Developed by ",Object(h.jsx)("a",{href:"https://www.eduard-mekler.com",children:"Eduard Mekler"})]})})]})};c.a.render(Object(h.jsx)(v,{}),document.querySelector("#root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.72ddfbe6.chunk.js.map