(this["webpackJsonpreact-calculator"]=this["webpackJsonpreact-calculator"]||[]).push([[0],{11:function(e,_,r){"use strict";r.r(_);r(1);var t=r(4),a=r.n(t),n=r(5),c=(r(17),r(0));var l=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(n.a,{}),Object(c.jsx)("footer",{children:Object(c.jsxs)("p",{children:["Designed and Developed by ",Object(c.jsx)("a",{href:"https://www.eduard-mekler.com",children:"Eduard Mekler"})]})})]})};a.a.render(Object(c.jsx)(l,{}),document.querySelector("#root"))},17:function(e,_,r){},5:function(module,__webpack_exports__,__webpack_require__){"use strict";var E_Dropbox_Programming_learning_free_code_camp_react_calculator_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),E_Dropbox_Programming_learning_free_code_camp_react_calculator_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),E_Dropbox_Programming_learning_free_code_camp_react_calculator_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),E_Dropbox_Programming_learning_free_code_camp_react_calculator_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10),E_Dropbox_Programming_learning_free_code_camp_react_calculator_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_Display__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__);function createState(e,_,r){var t=_;return t.toString().length>MAX_LENGTH.EXPRESSION&&(t=t.slice(3-MAX_LENGTH.EXPRESSION).padStart(MAX_LENGTH.EXPRESSION,".")),{currentValue:e,expression:_,lastAction:r,expressionDisplay:t}}var ACTION={CLEAR:null,ERROR:"error",OPERATOR:"operator",NEGATIVE:"negative",CALCULATION:"equals",NUMBER:"number",OVERFLOW:"overflow"},OPERATOR={SUBTRACT:"-",ADD:"+",MULTIPLY:"*",DIVIDE:"/",CALCULATE:"=",CLEAR:"C"},DECIMAL=".",MAX_LENGTH={CURRENT_VALUE:11,EXPRESSION:68},CLEAR_STATE=createState("0","",ACTION.CLEAR),BUTTON_DEFINITIONS=[["zero","one","two","three","four","five","six","seven","eight","nine"],{symbol:OPERATOR.CALCULATE,id:"equals"},{symbol:OPERATOR.ADD,id:"add"},{symbol:OPERATOR.SUBTRACT,id:"subtract"},{symbol:OPERATOR.MULTIPLY,id:"multiply"},{symbol:OPERATOR.DIVIDE,id:"divide"},{symbol:OPERATOR.CLEAR,id:"clear"},{symbol:DECIMAL,id:"decimal"}],Calculator=function(_React$Component){Object(E_Dropbox_Programming_learning_free_code_camp_react_calculator_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__.a)(Calculator,_React$Component);var _super=Object(E_Dropbox_Programming_learning_free_code_camp_react_calculator_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__.a)(Calculator);function Calculator(e){var _;return Object(E_Dropbox_Programming_learning_free_code_camp_react_calculator_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,Calculator),(_=_super.call(this,e)).state=CLEAR_STATE,_.handleClick=_.handleClick.bind(Object(E_Dropbox_Programming_learning_free_code_camp_react_calculator_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__.a)(_)),_.handleKeyPress=_.handleKeyPress.bind(Object(E_Dropbox_Programming_learning_free_code_camp_react_calculator_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__.a)(_)),_}return Object(E_Dropbox_Programming_learning_free_code_camp_react_calculator_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(Calculator,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPress)}},{key:"handleClick",value:function(e){switch(e.target.value){case OPERATOR.CLEAR:this.clear();break;case OPERATOR.CALCULATE:this.calculate();break;case OPERATOR.ADD:case OPERATOR.SUBTRACT:case OPERATOR.MULTIPLY:case OPERATOR.DIVIDE:this.handleOperator(e.target.value);break;default:this.handleNumber(e.target.value)}}},{key:"handleKeyPress",value:function(e){var _=e.key.replace("Enter",OPERATOR.CALCULATE).replace("Escape",OPERATOR.CLEAR).replace(/^F\d{1,2}|[^-1234567890./*+=C]+|^C.+/,"");console.log(_),_&&this.handleClick({target:{value:_}})}},{key:"clear",value:function(){this.setState(CLEAR_STATE)}},{key:"error",value:function(e,_){var r=this,t=this.handleClick;this.handleClick=function(){return null},this.setState(createState("ERROR",e,ACTION.ERROR)),setTimeout((function(){r.handleClick=t,_?r.setState(_):r.clear()}),1e3)}},{key:"calculate",value:function calculate(){var _this3=this;function round(e){var _=e.toString().indexOf(DECIMAL);if(-1===_)return e;var r=MAX_LENGTH.CURRENT_VALUE-(_+1),t=Number.parseInt("1".padEnd(r+1,"0"));return Math.round(e*t)/t}this.setState((function(state){if(state.lastAction!==ACTION.CALCULATION&&state.lastAction!==ACTION.CLEAR){var result;try{result=round(eval(state.expression.replace(/--/g,"- -"))),result.toString().length>MAX_LENGTH.CURRENT_VALUE&&_this3.error("OVERFLOW")}catch(_unused){_this3.error("INVALID EXPRESSION")}return createState(result,"".concat(state.expression,"=").concat(result),ACTION.CALCULATION)}return state}))}},{key:"handleOperator",value:function(e){var _=createState.bind(null,e);this.setState((function(r){switch(r.lastAction){case ACTION.CLEAR:if(e===OPERATOR.SUBTRACT)return _(e,ACTION.NEGATIVE);break;case ACTION.NEGATIVE:if(e!==OPERATOR.SUBTRACT)return r.expression.startsWith(OPERATOR.SUBTRACT)?_("0".concat(e),ACTION.OPERATOR):_("".concat(r.expression.replace(/[-/*+]-*$/,e)),ACTION.OPERATOR);break;case ACTION.OPERATOR:return e===OPERATOR.SUBTRACT?_("".concat(r.expression+e),ACTION.NEGATIVE):_("".concat(r.expression.replace(/[-/*+]-*$/,e)),ACTION.OPERATOR);case ACTION.CALCULATION:return _("".concat(r.currentValue+e),ACTION.OPERATOR);default:return _("".concat(r.expression+e),ACTION.OPERATOR)}}))}},{key:"handleNumber",value:function(e){var _=this;this.setState((function(r){if(r.currentValue===CLEAR_STATE.currentValue||r.lastAction===ACTION.CALCULATION)return createState(e=e===DECIMAL?"0.":e,e,ACTION.NUMBER);e=e===DECIMAL&&r.currentValue.includes(DECIMAL)?"":e;var t=r.currentValue.replace(/^[-/+*]/,"")+e;return t.toString().length>MAX_LENGTH.CURRENT_VALUE&&_.error("MAX DIGITS",r),createState(t,r.expression+e,ACTION.NUMBER)}))}},{key:"render",value:function(){var e=makeButtons(BUTTON_DEFINITIONS,this.handleClick);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("div",{className:"calculator",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_Display__WEBPACK_IMPORTED_MODULE_6__.a,{currentValue:this.state.currentValue,expression:this.state.expressionDisplay}),e]})}}]),Calculator}(react__WEBPACK_IMPORTED_MODULE_5___default.a.Component);function makeButtons(e,_){function r(e,r){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("button",{className:"button",id:e,value:r,onClick:_,children:r},e)}return e.reduce((function(e,_){return Array.isArray(_)?_.forEach((function(_,t){e.push(r(_,t))})):e.push(r(_.id,_.symbol)),e}),[])}__webpack_exports__.a=Calculator},8:function(e,_,r){"use strict";r(1);var t=r(0);_.a=function(e){return Object(t.jsxs)("div",{className:"display",children:[Object(t.jsx)("div",{id:"currentValue",children:e.currentValue}),Object(t.jsx)("div",{id:"expression",children:e.expression})]})}}},[[11,1,2]]]);
//# sourceMappingURL=main.4fdf15b6.chunk.js.map